" Tabbing and number setup
set number
set tabstop=2
set shiftwidth=4
set expandtab
set autoindent

" Paste between multiple instances
set clipboard=unnamed

" Theme and color setup
set term=screen-256color
colorscheme spring-night
highlight LineNr ctermfg=grey ctermbg=238
let g:airline_theme='bubblegum'

" Case insensitive search, except when using capital letters
set ignorecase
set smartcase

" Highlight lines that go over 80 characters long
highlight OverLength ctermbg=red ctermfg=white guibg=#592929
match OverLength /\%81v.\+/

" Vim-Plug and plugins
call plug#begin('~/.vim/plugged')

" Plug 'scrooloose/syntastic'
Plug 'scrooloose/nerdcommenter'
Plug 'nathanaelkane/vim-indent-guides'
Plug 'yggdroot/indentline'
Plug 'vim-airline/vim-airline'
Plug 'vim-airline/vim-airline-themes'

call plug#end()

" Key bindings
nmap <CR> o<Esc>
imap jj <Esc>
nmap <F10> :make
" Remove trailing whitespace with f5
nnoremap <F5> :let _s=@/<Bar>:%s/\s\+$//e<Bar>:let @/=_s<Bar><CR>

" Set up persistent undo/redo
let vimDir = '$HOME/.vim'
let &runtimepath.=','.vimDir
if has('persistent_undo')
    let myUndoDir = expand(vimDir . '/undodir')
    " Create dirs
    call system('mkdir ' . vimDir)
    call system('mkdir ' . myUndoDir)
    let &undodir = myUndoDir
    set undofile
endif

